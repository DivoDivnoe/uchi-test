{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/config.js","webpack:///./src/js/showScreen.js","webpack:///./src/js/utils.js","webpack:///./src/js/view/AbstractView.js","webpack:///./src/js/view/LessonView.js","webpack:///./src/js/lesson/Lesson.js","webpack:///./src/js/model/Model.js","webpack:///./src/js/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","e","t","START_X","END_X","FIRST_SUMMAND_START","FIRST_SUMMAND_END","SUM_START","SUM_END","container","document","querySelector","element","console","log","innerHTML","appendChild","findArcLength","radius","alpha","Math","PI","findRadius","chordLength","rads","sin","findArcHeight","sqrt","pow","length","writable","key","AstractView","div","createElement","classList","add","this","template","Error","_element","_render","_utils","_config","LessonView","state","axisLength","_this","__proto__","getPrototypeOf","arcs","width","items","arcWrapper","firstSummand","renderLessonStep","secondSummand","sum","remove","disabled","initInput","stateItem","questionItem","_this2","input","transitionendHandler","setTimeout","animateArc","currentArc","currentStep","renderedArc","style","strokeDasharray","arcLength","circleLength","addEventListener","answerInput","answer","answerInputClassName","questionItemClassName","_this3","inputHandler","evt","target","removeClass","disableInput","answerHandler","addClass","focus","className","removeEventListener","contains","_this4","interval","arcOffsetLeft","push","map","item","join","currentOffset","index","offset","arguments","arcCenterCoord","svgDimension","svgLeft","svgTop","Lesson","model","axisWidth","screen","_LessonView2","routes","renderFirstStep","renderSecondStep","renderFinal","continueLesson","_showScreen2","initStep","complete","nextStep","Model","initState","initialState","steps","floor","random","a","initLesson","sreenWidth","body","clientWidth","_Lesson2","start","_Model2","window"],"mappings":"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","file":"main.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","const START_X = 0;\r\nconst END_X = 20;\r\n\r\nconst FIRST_SUMMAND_START = 6;\r\nconst FIRST_SUMMAND_END = 9;\r\nconst SUM_START = 11;\r\nconst SUM_END = 14;\r\n\r\nexport {\r\n  START_X,\r\n  END_X,\r\n  FIRST_SUMMAND_START,\r\n  FIRST_SUMMAND_END,\r\n  SUM_START,\r\n  SUM_END\r\n};\r\n","const container = document.querySelector('.app');\r\n\r\nconst showScreen = element => {\r\n  console.log(element);\r\n  container.innerHTML = '';\r\n  container.appendChild(element);\r\n};\r\n\r\nexport default showScreen;\r\n","const findArcLength = (radius, alpha) => Math.PI * radius * alpha / 180;\r\n\r\nconst findRadius = (chordLength, alpha) => {\r\n  const rads = alpha * Math.PI / 180;\r\n\r\n  return chordLength / (2 * Math.sin(rads / 2));\r\n};\r\n\r\nconst findArcHeight = (radius, chordLength) => {\r\n  return radius + 1 - Math.sqrt(radius ** 2 - (chordLength / 2) ** 2);\r\n};\r\n\r\nexport {findArcLength, findRadius, findArcHeight};\r\n","export default class AstractView {\r\n  get template() {\r\n    throw new Error('You have to define template');\r\n  }\r\n\r\n  get element() {\r\n    if (!this._element) {\r\n      this._element = this._render();\r\n    }\r\n\r\n    return this._element;\r\n  }\r\n\r\n  _render() {\r\n    const div = document.createElement('div');\r\n    div.classList.add('app-wrapper');\r\n    div.innerHTML = this.template;\r\n\r\n    return div;\r\n  }\r\n}\r\n","import AbstractView from './AbstractView';\r\nimport {findRadius, findArcLength, findArcHeight} from '../utils';\r\nimport {START_X, END_X} from '../config';\r\n\r\nexport default class LessonView extends AbstractView {\r\n  constructor(state, axisLength) {\r\n    super();\r\n    this.state = state;\r\n    this.axisLength = axisLength;\r\n    this.arcs = {\r\n      alpha: 120,\r\n      width: 2,\r\n      items: []\r\n    };\r\n  }\r\n\r\n  get template() {\r\n    const items = [];\r\n    const interval = this.axisLength / (END_X - START_X + 1);\r\n    let arcOffsetLeft = 0;\r\n\r\n    for (let i = START_X; i <= END_X; i++) {\r\n      items.push(i);\r\n    }\r\n\r\n    const drawAxisDash = item => `\r\n      <div \r\n        class=\"axis__dash ${!(item % 5)\r\n          ? 'axis__dash--bold'\r\n          : ''}\" style=\"left: ${interval * item}px\">\r\n        <span \r\n        class=\"axis__number ${!(item % 5) ? 'axis__number--bold' : ''}\"\r\n          >${item}</span>\r\n      </div>\r\n    `;\r\n\r\n    const drawSvg = (chordLength, index, offset = 0) => {\r\n      const radius = findRadius(chordLength, this.arcs.alpha);\r\n      const arcLength = findArcLength(radius, this.arcs.alpha);\r\n      const circleLength = findArcLength(radius, 360);\r\n\r\n      const arcCenterCoord = radius + this.arcs.width / 2;\r\n      const svgDimension = (radius + this.arcs.width / 2) * 2 + 2;\r\n      const svgLeft = -(svgDimension - chordLength) / 2 + offset;\r\n      const svgTop = -findArcHeight(radius, chordLength, this.arcs.width);\r\n\r\n      this.arcs.items.push({arcLength, circleLength});\r\n\r\n      return `\r\n        <div class=\"axis__arcs-wrapper axis__arcs-wrapper--${index}\" style=\"left:${svgLeft}px;top:${svgTop}px\">\r\n          <svg \r\n            class=\"axis__arcs\" \r\n            width=\"${svgDimension}\" \r\n            height=\"${svgDimension}\" \r\n            viewPort=\"0 0 ${svgDimension} ${svgDimension}\" \r\n            version=\"1.1\" \r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <defs>\r\n              <marker id=\"arrowhead\" markerWidth=\"5\" markerHeight=\"3\" refX=\"0\" refY=\"1.5\" orient=\"auto\" stroke=\"#ff0000\">\r\n                <polygon points=\"0 0, 5 1.5, 0 3\" fill=\"#ff0000\"/>\r\n              </marker>\r\n            </defs>\r\n            <circle \r\n              class=\"axis__arc axis__arc--first\"\r\n              r=\"${radius}\"\r\n              cx=\"${arcCenterCoord}\"\r\n              cy=\"${arcCenterCoord}\"\r\n              fill=\"transparent\"\r\n              stroke-width=\"${this.arcs.width}\"\r\n            ></circle>\r\n            <circle\r\n              class=\"axis__arc axis__arc--second\"\r\n              r=\"${radius}\"\r\n              cx=\"${arcCenterCoord}\"\r\n              cy=\"${arcCenterCoord}\"\r\n              fill=\"transparent\"\r\n              stroke-width=\"${this.arcs.width}\"\r\n              stroke-dasharray=\"0.001 ${circleLength}\"\r\n            ></circle>\r\n            <line \r\n              class=\"axis__arc-arrow\"\r\n              x1=\"${svgDimension - 2}\" \r\n              y1=\"${svgDimension / 2 - 1}\" \r\n              x2=\"${svgDimension - 2}\" \r\n              y2=\"${svgDimension / 2 + 0.001 - 1}\" \r\n              stroke=\"#ff0000\" stroke-width=\"2\" \r\n              marker-end=\"url(#arrowhead)\"\r\n            >\r\n          </svg>\r\n          <input class=\"axis__input\" type=\"text\">\r\n        </div>\r\n      `;\r\n    };\r\n\r\n    return `\r\n      <header class=\"task__header\">\r\n        <h2 class=\"task__title\">\r\n          <span \r\n            class=\"task__title-item task__title-item--first\"\r\n          >${this.state.firstSummand}</span> + <span \r\n            class=\"task__title-item task__title-item--second\"\r\n          >${this.state.secondSummand}</span> = <input \r\n            class=\"task__title-sum task__title-sum--disabled\" \r\n            value=\"?\" \r\n            disabled\r\n          >\r\n        </h2>\r\n      </header>\r\n      <div class=\"axis-wrapper\">\r\n        <div class=\"axis\" style=\"width: ${this.axisLength}px\">\r\n          ${items.map(drawAxisDash).join('')}\r\n          ${[this.state.firstSummand, this.state.secondSummand]\r\n            .map((item, i) => {\r\n              const currentOffset = arcOffsetLeft;\r\n              const chordLength = interval * item;\r\n\r\n              arcOffsetLeft += chordLength;\r\n\r\n              return drawSvg(chordLength, i, currentOffset);\r\n            })\r\n            .join('')}\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderFirstStep() {\r\n    const arcWrapper = this.element.querySelector('.axis__arcs-wrapper--0');\r\n    const firstSummand = this.element.querySelector('.task__title-item--first');\r\n\r\n    this.renderLessonStep(arcWrapper, this.state.firstSummand, firstSummand);\r\n  }\r\n\r\n  renderSecondStep() {\r\n    const arcWrapper = this.element.querySelector('.axis__arcs-wrapper--1');\r\n    const secondSummand = this.element.querySelector(\r\n      '.task__title-item--second'\r\n    );\r\n\r\n    this.renderLessonStep(arcWrapper, this.state.secondSummand, secondSummand);\r\n  }\r\n\r\n  renderFinal() {\r\n    const sum = this.element.querySelector('.task__title-sum');\r\n\r\n    sum.classList.remove('task__title-sum--disabled');\r\n    sum.disabled = false;\r\n    sum.value = '';\r\n\r\n    this.initInput(sum, this.state.sum, 'task__title-sum');\r\n  }\r\n\r\n  renderLessonStep(arcWrapper, stateItem, questionItem) {\r\n    const input = arcWrapper.querySelector('.axis__input');\r\n    arcWrapper.classList.add('axis__arcs-wrapper--active');\r\n\r\n    const transitionendHandler = () => {\r\n      this.initInput(\r\n        input,\r\n        stateItem,\r\n        'axis__input',\r\n        questionItem,\r\n        'task__title-item'\r\n      )\r\n    };\r\n\r\n    setTimeout(() => this.animateArc(arcWrapper, transitionendHandler), 0);\r\n  }\r\n\r\n  animateArc(arcWrapper, transitionendHandler) {\r\n    const currentArc = this.arcs.items[this.state.currentStep];\r\n    const renderedArc = arcWrapper.querySelector('.axis__arc--second');\r\n\r\n    renderedArc.style.strokeDasharray = `${currentArc.arcLength} ${currentArc.circleLength - currentArc.arcLength}`;\r\n    arcWrapper.querySelector('.axis__arc-arrow').classList.add('axis__arc-arrow--animate');\r\n\r\n    renderedArc.addEventListener('transitionend', transitionendHandler);\r\n  }\r\n\r\n  initInput(\r\n    answerInput,\r\n    answer,\r\n    answerInputClassName,\r\n    questionItem,\r\n    questionItemClassName\r\n  ) {\r\n    const inputHandler = evt => {\r\n      const target = evt.target;\r\n\r\n      if (+target.value === answer) {\r\n        if (questionItem) {\r\n          this.removeClass(questionItem, `${questionItemClassName}--wrong`);\r\n        }\r\n        this.removeClass(target, `${answerInputClassName}--wrong`);\r\n\r\n        this.disableInput(\r\n          target,\r\n          `${answerInputClassName}--disabled`,\r\n          inputHandler\r\n        );\r\n\r\n        this.answerHandler();\r\n      } else {\r\n        if (questionItem) {\r\n          this.addClass(questionItem, `${questionItemClassName}--wrong`);\r\n        }\r\n        this.addClass(target, `${answerInputClassName}--wrong`);\r\n      }\r\n    };\r\n\r\n    answerInput.addEventListener('input', inputHandler);\r\n    answerInput.classList.add('axis__input--active');\r\n    answerInput.focus();\r\n  }\r\n\r\n  disableInput(input, className, inputHandler) {\r\n    input.classList.add(className);\r\n    input.disabled = true;\r\n    input.removeEventListener('input', inputHandler);\r\n  }\r\n\r\n  removeClass(element, className) {\r\n    if (element.classList.contains(className)) {\r\n      element.classList.remove(className);\r\n    }\r\n  }\r\n\r\n  addClass(element, className) {\r\n    if (!element.classList.contains(className)) {\r\n      element.classList.add(className);\r\n    }\r\n  }\r\n\r\n  answerHandler() {}\r\n}\r\n","import LessonView from '../view/LessonView';\r\nimport showScreen from '../showScreen';\r\n\r\nexport default class Lesson {\r\n  constructor(model, axisWidth) {\r\n    this.model = model;\r\n    this.screen = new LessonView(this.model.state, axisWidth);\r\n\r\n    this.routes = [\r\n      () => this.screen.renderFirstStep(),\r\n      () => this.screen.renderSecondStep(),\r\n      () => this.screen.renderFinal()\r\n    ];\r\n  }\r\n\r\n  start() {\r\n    this.screen.answerHandler = () => this.continueLesson();\r\n    showScreen(this.screen.element);\r\n    this.initStep();\r\n  }\r\n\r\n  continueLesson() {\r\n    if (this.model.state.complete) {\r\n      console.log('Вы выполнили задание');\r\n      return false;\r\n    }\r\n\r\n    this.model.nextStep();\r\n    this.initStep();\r\n  }\r\n\r\n  initStep() {\r\n    this.routes[this.model.state.currentStep]();\r\n  }\r\n}\r\n","import {\r\n  FIRST_SUMMAND_START,\r\n  FIRST_SUMMAND_END,\r\n  SUM_START,\r\n  SUM_END\r\n} from '../config.js';\r\n\r\nexport default class Model {\r\n  constructor() {\r\n    this.initState();\r\n  }\r\n\r\n  get initialState() {\r\n    const firstSummand = Math.floor(\r\n      (FIRST_SUMMAND_END - FIRST_SUMMAND_START + 1) * Math.random() +\r\n        FIRST_SUMMAND_START\r\n    );\r\n    const sum = Math.floor(\r\n      (SUM_END - SUM_START + 1) * Math.random() + SUM_START\r\n    );\r\n\r\n    return {\r\n      firstSummand,\r\n      sum,\r\n      secondSummand: sum - firstSummand,\r\n      steps: 3,\r\n      currentStep: 0,\r\n      complete: false\r\n    };\r\n  }\r\n\r\n  get firstSummand() {\r\n    return this.state.firstSummand;\r\n  }\r\n\r\n  get secondSummand() {\r\n    return this.state.secondSummand;\r\n  }\r\n\r\n  get sum() {\r\n    return this.state.sum;\r\n  }\r\n\r\n  initState() {\r\n    this.state = this.initialState;\r\n\r\n    return this.state;\r\n  }\r\n\r\n  nextStep() {\r\n    if (++this.state.currentStep === this.state.steps - 1) {\r\n      this.state.complete = true;\r\n    }\r\n  }\r\n}\r\n","import Model from './model/Model';\r\nimport Lesson from './lesson/Lesson';\r\n\r\nconst initLesson = (model) => {\r\n  const sreenWidth = document.body.clientWidth;\r\n  const axisLength = sreenWidth > 900 ? 815 : (sreenWidth < 550 ? 300 : 480);\r\n\r\n  const lesson = new Lesson(model, axisLength);\r\n  \r\n  lesson.start();\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const model = new Model();\r\n  \r\n  initLesson(model);\r\n\r\n  window.addEventListener('resize', () => initLesson(model));\r\n});\r\n"],"sourceRoot":""}