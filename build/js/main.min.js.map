{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/config.js","webpack:///./src/js/showScreen.js","webpack:///./src/js/utils.js","webpack:///./src/js/view/AbstractView.js","webpack:///./src/js/view/LessonView.js","webpack:///./src/js/lesson/Lesson.js","webpack:///./src/js/model/Model.js","webpack:///./src/js/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","e","t","START_X","END_X","FIRST_SUMMAND_START","FIRST_SUMMAND_END","SUM_START","SUM_END","container","document","querySelector","element","innerHTML","appendChild","findArcLength","radius","alpha","Math","PI","findRadius","chordLength","rads","sin","findArcHeight","sqrt","pow","length","writable","key","AstractView","div","createElement","classList","add","this","template","Error","_element","_render","_utils","_config","LessonView","state","axisLength","_this","__proto__","getPrototypeOf","arcs","width","items","arcWrapper","firstSummand","renderLessonStep","secondSummand","sum","remove","disabled","initInput","stateItem","questionItem","_this2","input","transitionendHandler","setTimeout","animateArc","currentArc","currentStep","renderedArc","style","strokeDasharray","arcLength","circleLength","addEventListener","answerInput","answer","answerInputClassName","questionItemClassName","_this3","inputHandler","evt","target","removeErrorClasses","removeClass","disableInput","answerHandler","addClass","focus","className","removeEventListener","contains","_this4","interval","arcOffsetLeft","push","map","item","join","currentOffset","index","offset","arguments","arcCenterCoord","svgDimension","svgLeft","svgTop","Lesson","model","axisWidth","screen","_LessonView2","routes","renderFirstStep","renderSecondStep","renderFinal","continueLesson","_showScreen2","initStep","complete","console","log","nextStep","Model","initState","initialState","steps","floor","random","a","initLesson","sreenWidth","body","clientWidth","_Lesson2","start","_Model2","window"],"mappings":"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,KACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,KAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GACAK,gBACAC,cACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAjB,GACAY,OAAAC,eAAAb,EAAA,cAAiDkB,YAIjDpB,EAAAqB,EAAA,SAAAlB,GACA,IAAAS,EAAAT,KAAAmB,WACA,WAA2B,OAAAnB,EAAAoB,SAC3B,WAAiC,OAAApB,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAW,EAAAC,GAAsD,OAAAX,OAAAY,UAAAC,eAAApB,KAAAiB,EAAAC,IAGtDzB,EAAA4B,EAAA,GAIA5B,IAAA6B,EAAA,cAAAC,EAAAC,EAAAV,GAAA,aAAAP,OAAAC,eAAAgB,EAAA,cAAAX,OAAA,IAAAW,EC1DEC,QATc,EAAAD,EAUdE,MATY,GAAAF,EAUZG,oBAR0B,EAAAH,EAS1BI,kBARwB,EAAAJ,EASxBK,UARgB,GAAAL,EAShBM,QARc,aAAAP,EAAAC,EAAAV,GAAA,aAAAP,OAAAC,eAAAgB,EAAA,cAAAX,OAAA,ICNhB,IAAMkB,EAAYC,SAASC,cAAc,QAAAT,EAAAR,QAEtB,SAAAkB,GACjBH,EAAUI,UAAY,GACtBJ,EAAUK,YAAYF,qFCQhBG,cAZc,SAACC,EAAQC,GAAT,OAAmBC,KAAKC,GAAKH,EAASC,EAAQ,KAAAf,EAY7CkB,WAVJ,SAACC,EAAaJ,GAC/B,IAAMK,EAAOL,EAAQC,KAAKC,GAAK,IAE/B,OAAOE,GAAe,EAAIH,KAAKK,IAAID,EAAO,KAAApB,EAOTsB,cAJb,SAACR,EAAQK,GAC7B,OAAOL,EAAS,EAAIE,KAAKO,KAAKP,KAAAQ,IAAAV,EAAU,GAAVE,KAAAQ,IAAeL,EAAc,EAAM,eAAApB,EAAAC,EAAAV,GAAA,aAAAP,OAAAC,eAAAgB,EAAA,cAAAX,OAAA,QAAAD,EAAA,oBAAAW,IAAAC,GAAA,QAAAV,EAAA,EAAAA,EAAAU,EAAAyB,OAAAnC,IAAA,KAAAF,EAAAY,EAAAV,GAAAF,EAAAF,WAAAE,EAAAF,aAAA,EAAAE,EAAAH,cAAA,YAAAG,MAAAsC,UAAA,GAAA3C,OAAAC,eAAAe,EAAAX,EAAAuC,IAAAvC,IAAA,gBAAAY,EAAAV,EAAAF,GAAA,OAAAE,GAAAS,EAAAC,EAAAL,UAAAL,GAAAF,GAAAW,EAAAC,EAAAZ,GAAAY,GAAA,GCT9C4B,4KAcjB,IAAMC,EAAMrB,SAASsB,cAAc,OAInC,OAHAD,EAAIE,UAAUC,IAAI,eAClBH,EAAIlB,UAAYsB,KAAKC,SAEdL,mCAhBP,MAAM,IAAIM,MAAM,kCAAAR,IAAA,UAAAxC,IAAA,WAQhB,OAJK8C,KAAKG,WACRH,KAAKG,SAAWH,KAAKI,WAGhBJ,KAAKG,eAVKR,GAULQ,UAVKR,4UCArB9B,GAAAV,EAAAnB,EAAA,KAAAmB,EAAAG,WAAAH,GAAAI,QAAAJ,GACAkD,EAAArE,EAAA,GACAsE,EAAAtE,EAAA,GAEqBuE,cACnB,SAAAA,EAAYC,EAAOC,iGAAYT,KAAAO,GAAA,IAAAG,oKAAAV,MAAAO,EAAAI,WAAA7D,OAAA8D,eAAAL,IAAAhE,KAAAyD,OAAA,OAE7BU,EAAKF,MAAQA,EACbE,EAAKD,WAAaA,EAClBC,EAAKG,MACH/B,MAAO,IACPgC,MAAO,EACPC,UAP2BL,6XAgH7B,IAAMM,EAAahB,KAAKvB,QAAQD,cAAc,0BACxCyC,EAAejB,KAAKvB,QAAQD,cAAc,2BAEhDwB,KAAKkB,iBAAiBF,EAAYhB,KAAKQ,MAAMS,aAAcA,8CAI3D,IAAMD,EAAahB,KAAKvB,QAAQD,cAAc,0BACxC2C,EAAgBnB,KAAKvB,QAAQD,cACjC,4BAGFwB,KAAKkB,iBAAiBF,EAAYhB,KAAKQ,MAAMW,cAAeA,yCAI5D,IAAMC,EAAMpB,KAAKvB,QAAQD,cAAc,mBAEvC4C,EAAItB,UAAUuB,OAAO,4BACrBD,EAAIE,YACJF,EAAIhE,MAAQ,GAEZ4C,KAAKuB,UAAUH,EAAKpB,KAAKQ,MAAMY,IAAK,qBAAA1B,IAAA,mBAAAtC,MAAA,SAGrB4D,EAAYQ,EAAWC,GAAc,IAAAC,EAAA1B,KAC9C2B,EAAQX,EAAWxC,cAAc,gBACvCwC,EAAWlB,UAAUC,IAAI,8BAEzB,IAAM6B,EAAuB,WAC3BF,EAAKH,UACHI,EACAH,EACA,cACAC,EACA,oBAIJI,WAAW,kBAAMH,EAAKI,WAAWd,EAAYY,IAAuB,MAAAlC,IAAA,aAAAtC,MAAA,SAG3D4D,EAAYY,GACrB,IAAMG,EAAa/B,KAAKa,KAAKE,MAAMf,KAAKQ,MAAMwB,aACxCC,EAAcjB,EAAWxC,cAAc,sBAE7CyD,EAAYC,MAAMC,gBAAqBJ,EAAWK,UAAlD,KAA+DL,EAAWM,aACxEN,EAAWK,WACbpB,EACGxC,cAAc,oBACdsB,UAAUC,IAAI,4BAEjBkC,EAAYK,iBAAiB,gBAAiBV,qCAI9CW,EACAC,EACAC,EACAhB,EACAiB,GACA,IAAAC,EAAA3C,KAkCAuC,EAAYD,iBAAiB,QAjCR,SAAfM,EAAeC,GACnB,IAAMC,EAASD,EAAIC,OAEbC,EAAqB,WACrBtB,GACFkB,EAAKK,YAAYvB,EAAiBiB,EAAlC,WAEFC,EAAKK,YAAYF,EAAWL,EAA5B,YAGF,IAAKK,EAAO1F,MAAMoC,OAEhB,OADAuD,QAIGD,EAAO1F,QAAUoF,GACpBO,IAEAJ,EAAKM,aACHH,EACGL,EAFL,aAGEG,GAGFD,EAAKO,kBAEDzB,GACFkB,EAAKQ,SAAS1B,EAAiBiB,EAA/B,WAEFC,EAAKQ,SAASL,EAAWL,EAAzB,cAKJF,EAAYzC,UAAUC,IAAI,uBAC1BwC,EAAYa,6CAGDzB,EAAO0B,EAAWT,GAC7BjB,EAAM7B,UAAUC,IAAIsD,GACpB1B,EAAML,YACNK,EAAM2B,oBAAoB,QAASV,uCAGzBnE,EAAS4E,GACf5E,EAAQqB,UAAUyD,SAASF,IAC7B5E,EAAQqB,UAAUuB,OAAOgC,oCAIpB5E,EAAS4E,GACX5E,EAAQqB,UAAUyD,SAASF,IAC9B5E,EAAQqB,UAAUC,IAAIsD,6EAlNxB,IALa,IAAAG,EAAAxD,KACPe,KACA0C,EAAWzD,KAAKS,YAAcH,EAAArC,MAAAqC,EAAAtC,QAAkB,GAClD0F,EAAgB,EAEXtH,YAAaA,WAAYA,IAChC2E,EAAM4C,KAAKvH,GAgEb,6HAIO4D,KAAKQ,MAAMS,aAJlB,yFAMOjB,KAAKQ,MAAMW,cANlB,8NAasCnB,KAAKS,WAb3C,mBAcQM,EAAM6C,IA3EO,SAAAC,GAAA,mDAEKA,EAAO,EAEzB,GADA,oBAHa,kBAIOJ,EAAWI,EAJlB,sDAMOA,EAAO,EAA4B,GAAvB,sBANnB,iBAOZA,EAPY,gCA2EWC,KAAK,IAdrC,gBAeS9D,KAAKQ,MAAMS,aAAcjB,KAAKQ,MAAMW,eACpCyC,IAAI,SAACC,EAAMzH,GACV,IAAM2H,EAAgBL,EAChBxE,EAAcuE,EAAWI,EAI/B,OAFAH,GAAiBxE,EAtEX,SAACA,EAAa8E,GAAsB,IAAfC,EAAeC,UAAA1E,OAAA,YAAA0E,UAAA,GAAAA,UAAA,GAAN,EACtCrF,KAASwB,EAAApB,YAAWC,EAAasE,EAAK3C,KAAK/B,OAC3CsD,KAAY/B,EAAAzB,eAAcC,EAAQ2E,EAAK3C,KAAK/B,OAC5CuD,KAAehC,EAAAzB,eAAcC,EAAQ,KAErCsF,EAAiBtF,EAAS2E,EAAK3C,KAAKC,MAAQ,EAC5CsD,EAAgD,GAAhCvF,EAAS2E,EAAK3C,KAAKC,MAAQ,GAAS,EACpDuD,IAAYD,EAAelF,GAAe,EAAI+E,EAC9CK,MAAUjE,EAAAhB,eAAcR,EAAQK,EAAasE,EAAK3C,KAAKC,OAI7D,OAFA0C,EAAK3C,KAAKE,MAAM4C,MAAMvB,YAAWC,iBAEjC,gEACuD2B,EADvD,iBAC6EK,EAD7E,UAC8FC,EAD9F,8EAIeF,EAJf,2BAKgBA,EALhB,iCAMsBA,EANtB,IAMsCA,EANtC,uLAYavF,EAZb,wBAacsF,EAbd,wBAccA,EAdd,oEAgBwBX,EAAK3C,KAAKC,MAhBlC,uHAoBajC,EApBb,wBAqBcsF,EArBd,wBAsBcA,EAtBd,oEAwBwBX,EAAK3C,KAAKC,MAxBlC,4CAyBkCuB,EAzBlC,gIA8BoBiC,EA9BpB,aA8BsCF,EAAelF,GAAe,EAClEsE,EAAK3C,KAAKC,MAAQ,GA/BpB,wBA+B4C5B,EAAc,EACxD,KAhCF,OAgCWL,EAASyF,EAAS,GAhC7B,0FAZc,CAwESpF,EAAa9C,EAAG2H,KAEhCD,KAAK,IAxBd,2CAAA/F,EAlFiBwC,GAkFjBxC,EAAAR,QAlFiBgD,8UCJrBvE,EAAA,IAAAI,EAAAyB,EACA7B,EAAA,aAAA6B,EAAAC,GAAA,OAAAA,KAAAR,WAAAQ,GAAAP,QAAAO,GAAA,IAEqByG,aACnB,SAAAA,EAAYC,EAAOC,GAAW,IAAA/D,EAAAV,wGAAAuE,GAC5BvE,KAAKwE,MAAQA,EACbxE,KAAK0E,OAAS,IAAAC,EAAApH,QAAeyC,KAAKwE,MAAMhE,MAAOiE,GAE/CzE,KAAK4E,QACH,kBAAMlE,EAAKgE,OAAOG,mBAClB,kBAAMnE,EAAKgE,OAAOI,oBAClB,kBAAMpE,EAAKgE,OAAOK,0DAId,IAAArD,EAAA1B,KACNA,KAAK0E,OAAOxB,cAAgB,kBAAMxB,EAAKsD,qBACvCC,EAAA1H,SAAWyC,KAAK0E,OAAOjG,SACvBuB,KAAKkF,oDAIL,GAAIlF,KAAKwE,MAAMhE,MAAM2E,SAEnB,OADAC,QAAQC,IAAI,2BAIdrF,KAAKwE,MAAMc,WACXtF,KAAKkF,8CAILlF,KAAK4E,OAAO5E,KAAKwE,MAAMhE,MAAMwB,qBA7BZuC,GA6BYvC,UA7BZuC,0UCHrBjE,EAAAtE,EAAA,GAOqBuJ,aACnB,SAAAA,kGAAcvF,KAAAuF,GACZvF,KAAKwF,0DAqCL,OAFAxF,KAAKQ,MAAQR,KAAKyF,aAEXzF,KAAKQ,2CAINR,KAAKQ,MAAMwB,aAAgBhC,KAAKQ,MAAMkF,MAAQ,IAClD1F,KAAKQ,MAAM2E,gBAAWzF,IAAA,eAAAxC,IAAA,WAtCxB,IAAM+D,EAAelC,KAAK4G,OACvBrF,EAAAnC,kBAAAmC,EAAApC,oBAA0C,GAAKa,KAAK6G,SAArDtF,EAAApC,qBAGIkD,EAAMrC,KAAK4G,OACdrF,EAAAjC,QAAAiC,EAAAlC,UAAsB,GAAKW,KAAK6G,SAAjCtF,EAAAlC,WAGF,OACE6C,eACAG,MACAD,cAAeC,EAAMH,EACrByE,MAAO,EACP1D,YAAa,EACbmD,gBAAUzF,IAAA,eAAAxC,IAAA,WAKZ,OAAO8C,KAAKQ,MAAMS,mDAIlB,OAAOjB,KAAKQ,MAAMW,0CAIlB,OAAOnB,KAAKQ,MAAMY,UAjCDmE,GAiCCnE,UAjCDmE,gCCPrB,IAAApI,EAAAf,EAAAJ,EAAA,IAAA6J,EAAAzJ,EACAJ,EAAA,aAAAI,EAAA0B,GAAA,OAAAA,KAAAR,WAAAQ,GAAAP,QAAAO,GAEA,IAAMgI,EAAa,SAACtB,GAClB,IAAMuB,EAAaxH,SAASyH,KAAKC,YAC3BxF,EAAasF,EAAa,IAAM,IAAOA,EAAa,IAAM,IAAM,IAEvD,IAAAG,EAAA3I,QAAWiH,EAAO/D,GAE1B0F,SAGT5H,SAAS+D,iBAAiB,mBAAoB,WAC5C,IAAMkC,EAAQ,IAAA4B,EAAA7I,QAEduI,EAAWtB,GAEX6B,OAAO/D,iBAAiB,SAAU,kBAAMwD,EAAWtB","file":"main.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","const START_X = 0;\r\nconst END_X = 20;\r\n\r\nconst FIRST_SUMMAND_START = 6;\r\nconst FIRST_SUMMAND_END = 9;\r\nconst SUM_START = 11;\r\nconst SUM_END = 14;\r\n\r\nexport {\r\n  START_X,\r\n  END_X,\r\n  FIRST_SUMMAND_START,\r\n  FIRST_SUMMAND_END,\r\n  SUM_START,\r\n  SUM_END\r\n};\r\n","const container = document.querySelector('.app');\r\n\r\nconst showScreen = element => {\r\n  container.innerHTML = '';\r\n  container.appendChild(element);\r\n};\r\n\r\nexport default showScreen;\r\n","const findArcLength = (radius, alpha) => Math.PI * radius * alpha / 180;\r\n\r\nconst findRadius = (chordLength, alpha) => {\r\n  const rads = alpha * Math.PI / 180;\r\n\r\n  return chordLength / (2 * Math.sin(rads / 2));\r\n};\r\n\r\nconst findArcHeight = (radius, chordLength) => {\r\n  return radius + 1 - Math.sqrt(radius ** 2 - (chordLength / 2) ** 2);\r\n};\r\n\r\nexport {findArcLength, findRadius, findArcHeight};\r\n","export default class AstractView {\r\n  get template() {\r\n    throw new Error('You have to define template');\r\n  }\r\n\r\n  get element() {\r\n    if (!this._element) {\r\n      this._element = this._render();\r\n    }\r\n\r\n    return this._element;\r\n  }\r\n\r\n  _render() {\r\n    const div = document.createElement('div');\r\n    div.classList.add('app-wrapper');\r\n    div.innerHTML = this.template;\r\n\r\n    return div;\r\n  }\r\n}\r\n","import AbstractView from './AbstractView';\r\nimport {findRadius, findArcLength, findArcHeight} from '../utils';\r\nimport {START_X, END_X} from '../config';\r\n\r\nexport default class LessonView extends AbstractView {\r\n  constructor(state, axisLength) {\r\n    super();\r\n    this.state = state;\r\n    this.axisLength = axisLength;\r\n    this.arcs = {\r\n      alpha: 120,\r\n      width: 2,\r\n      items: []\r\n    };\r\n  }\r\n\r\n  get template() {\r\n    const items = [];\r\n    const interval = this.axisLength / (END_X - START_X + 1);\r\n    let arcOffsetLeft = 0;\r\n\r\n    for (let i = START_X; i <= END_X; i++) {\r\n      items.push(i);\r\n    }\r\n\r\n    const drawAxisDash = item => `\r\n      <div \r\n        class=\"axis__dash ${!(item % 5)\r\n          ? 'axis__dash--bold'\r\n          : ''}\" style=\"left: ${interval * item}px\">\r\n        <span \r\n        class=\"axis__number ${!(item % 5) ? 'axis__number--bold' : ''}\"\r\n          >${item}</span>\r\n      </div>\r\n    `;\r\n\r\n    const drawSvg = (chordLength, index, offset = 0) => {\r\n      const radius = findRadius(chordLength, this.arcs.alpha);\r\n      const arcLength = findArcLength(radius, this.arcs.alpha);\r\n      const circleLength = findArcLength(radius, 360);\r\n\r\n      const arcCenterCoord = radius + this.arcs.width / 2;\r\n      const svgDimension = (radius + this.arcs.width / 2) * 2 + 2;\r\n      const svgLeft = -(svgDimension - chordLength) / 2 + offset;\r\n      const svgTop = -findArcHeight(radius, chordLength, this.arcs.width);\r\n\r\n      this.arcs.items.push({arcLength, circleLength});\r\n\r\n      return `\r\n        <div class=\"axis__arcs-wrapper axis__arcs-wrapper--${index}\" style=\"left:${svgLeft}px;top:${svgTop}px\">\r\n          <svg \r\n            class=\"axis__arcs\" \r\n            width=\"${svgDimension}\" \r\n            height=\"${svgDimension}\" \r\n            viewPort=\"0 0 ${svgDimension} ${svgDimension}\" \r\n            version=\"1.1\" \r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <circle \r\n              class=\"axis__arc axis__arc--first\"\r\n              r=\"${radius}\"\r\n              cx=\"${arcCenterCoord}\"\r\n              cy=\"${arcCenterCoord}\"\r\n              fill=\"transparent\"\r\n              stroke-width=\"${this.arcs.width}\"\r\n            ></circle>\r\n            <circle\r\n              class=\"axis__arc axis__arc--second\"\r\n              r=\"${radius}\"\r\n              cx=\"${arcCenterCoord}\"\r\n              cy=\"${arcCenterCoord}\"\r\n              fill=\"transparent\"\r\n              stroke-width=\"${this.arcs.width}\"\r\n              stroke-dasharray=\"0.001 ${circleLength}\"\r\n            ></circle>\r\n          </svg>\r\n          <span \r\n            class=\"axis__arc-arrow\" \r\n            style=\"top:${-svgTop}px;left:${(svgDimension - chordLength) / 2 -\r\n        this.arcs.width / 2}px;transform-origin:${chordLength / 2 +\r\n        1.5}px ${radius + svgTop + 1}px;\"></span>\r\n          <input class=\"axis__input\" type=\"text\">\r\n        </div>\r\n      `;\r\n    };\r\n\r\n    return `\r\n      <h2 class=\"app__title\">\r\n        <span \r\n          class=\"app__title-item app__title-item--first\"\r\n        >${this.state.firstSummand}</span> + <span \r\n          class=\"app__title-item app__title-item--second\"\r\n        >${this.state.secondSummand}</span> = <input \r\n          class=\"app__title-sum app__title-sum--disabled\" \r\n          value=\"?\" \r\n          disabled\r\n        >\r\n      </h2>\r\n      <div class=\"axis-wrapper\">\r\n        <div class=\"axis\" style=\"width: ${this.axisLength}px\">\r\n          ${items.map(drawAxisDash).join('')}\r\n          ${[this.state.firstSummand, this.state.secondSummand]\r\n            .map((item, i) => {\r\n              const currentOffset = arcOffsetLeft;\r\n              const chordLength = interval * item;\r\n\r\n              arcOffsetLeft += chordLength;\r\n\r\n              return drawSvg(chordLength, i, currentOffset);\r\n            })\r\n            .join('')}\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderFirstStep() {\r\n    const arcWrapper = this.element.querySelector('.axis__arcs-wrapper--0');\r\n    const firstSummand = this.element.querySelector('.app__title-item--first');\r\n\r\n    this.renderLessonStep(arcWrapper, this.state.firstSummand, firstSummand);\r\n  }\r\n\r\n  renderSecondStep() {\r\n    const arcWrapper = this.element.querySelector('.axis__arcs-wrapper--1');\r\n    const secondSummand = this.element.querySelector(\r\n      '.app__title-item--second'\r\n    );\r\n\r\n    this.renderLessonStep(arcWrapper, this.state.secondSummand, secondSummand);\r\n  }\r\n\r\n  renderFinal() {\r\n    const sum = this.element.querySelector('.app__title-sum');\r\n\r\n    sum.classList.remove('app__title-sum--disabled');\r\n    sum.disabled = false;\r\n    sum.value = '';\r\n\r\n    this.initInput(sum, this.state.sum, 'app__title-sum');\r\n  }\r\n\r\n  renderLessonStep(arcWrapper, stateItem, questionItem) {\r\n    const input = arcWrapper.querySelector('.axis__input');\r\n    arcWrapper.classList.add('axis__arcs-wrapper--active');\r\n\r\n    const transitionendHandler = () => {\r\n      this.initInput(\r\n        input,\r\n        stateItem,\r\n        'axis__input',\r\n        questionItem,\r\n        'app__title-item'\r\n      );\r\n    };\r\n\r\n    setTimeout(() => this.animateArc(arcWrapper, transitionendHandler), 0);\r\n  }\r\n\r\n  animateArc(arcWrapper, transitionendHandler) {\r\n    const currentArc = this.arcs.items[this.state.currentStep];\r\n    const renderedArc = arcWrapper.querySelector('.axis__arc--second');\r\n\r\n    renderedArc.style.strokeDasharray = `${currentArc.arcLength} ${currentArc.circleLength -\r\n      currentArc.arcLength}`;\r\n    arcWrapper\r\n      .querySelector('.axis__arc-arrow')\r\n      .classList.add('axis__arc-arrow--animate');\r\n\r\n    renderedArc.addEventListener('transitionend', transitionendHandler);\r\n  }\r\n\r\n  initInput(\r\n    answerInput,\r\n    answer,\r\n    answerInputClassName,\r\n    questionItem,\r\n    questionItemClassName\r\n  ) {\r\n    const inputHandler = evt => {\r\n      const target = evt.target;\r\n\r\n      const removeErrorClasses = () => {\r\n        if (questionItem) {\r\n          this.removeClass(questionItem, `${questionItemClassName}--wrong`);\r\n        }\r\n        this.removeClass(target, `${answerInputClassName}--wrong`);\r\n      };\r\n\r\n      if (!target.value.length) {\r\n        removeErrorClasses();\r\n        return false;\r\n      }\r\n\r\n      if (+target.value === answer) {\r\n        removeErrorClasses();\r\n\r\n        this.disableInput(\r\n          target,\r\n          `${answerInputClassName}--disabled`,\r\n          inputHandler\r\n        );\r\n\r\n        this.answerHandler();\r\n      } else {\r\n        if (questionItem) {\r\n          this.addClass(questionItem, `${questionItemClassName}--wrong`);\r\n        }\r\n        this.addClass(target, `${answerInputClassName}--wrong`);\r\n      }\r\n    };\r\n\r\n    answerInput.addEventListener('input', inputHandler);\r\n    answerInput.classList.add('axis__input--active');\r\n    answerInput.focus();\r\n  }\r\n\r\n  disableInput(input, className, inputHandler) {\r\n    input.classList.add(className);\r\n    input.disabled = true;\r\n    input.removeEventListener('input', inputHandler);\r\n  }\r\n\r\n  removeClass(element, className) {\r\n    if (element.classList.contains(className)) {\r\n      element.classList.remove(className);\r\n    }\r\n  }\r\n\r\n  addClass(element, className) {\r\n    if (!element.classList.contains(className)) {\r\n      element.classList.add(className);\r\n    }\r\n  }\r\n\r\n  answerHandler() {}\r\n}\r\n","import LessonView from '../view/LessonView';\r\nimport showScreen from '../showScreen';\r\n\r\nexport default class Lesson {\r\n  constructor(model, axisWidth) {\r\n    this.model = model;\r\n    this.screen = new LessonView(this.model.state, axisWidth);\r\n\r\n    this.routes = [\r\n      () => this.screen.renderFirstStep(),\r\n      () => this.screen.renderSecondStep(),\r\n      () => this.screen.renderFinal()\r\n    ];\r\n  }\r\n\r\n  start() {\r\n    this.screen.answerHandler = () => this.continueLesson();\r\n    showScreen(this.screen.element);\r\n    this.initStep();\r\n  }\r\n\r\n  continueLesson() {\r\n    if (this.model.state.complete) {\r\n      console.log('Вы выполнили задание');\r\n      return false;\r\n    }\r\n\r\n    this.model.nextStep();\r\n    this.initStep();\r\n  }\r\n\r\n  initStep() {\r\n    this.routes[this.model.state.currentStep]();\r\n  }\r\n}\r\n","import {\r\n  FIRST_SUMMAND_START,\r\n  FIRST_SUMMAND_END,\r\n  SUM_START,\r\n  SUM_END\r\n} from '../config.js';\r\n\r\nexport default class Model {\r\n  constructor() {\r\n    this.initState();\r\n  }\r\n\r\n  get initialState() {\r\n    const firstSummand = Math.floor(\r\n      (FIRST_SUMMAND_END - FIRST_SUMMAND_START + 1) * Math.random() +\r\n        FIRST_SUMMAND_START\r\n    );\r\n    const sum = Math.floor(\r\n      (SUM_END - SUM_START + 1) * Math.random() + SUM_START\r\n    );\r\n\r\n    return {\r\n      firstSummand,\r\n      sum,\r\n      secondSummand: sum - firstSummand,\r\n      steps: 3,\r\n      currentStep: 0,\r\n      complete: false\r\n    };\r\n  }\r\n\r\n  get firstSummand() {\r\n    return this.state.firstSummand;\r\n  }\r\n\r\n  get secondSummand() {\r\n    return this.state.secondSummand;\r\n  }\r\n\r\n  get sum() {\r\n    return this.state.sum;\r\n  }\r\n\r\n  initState() {\r\n    this.state = this.initialState;\r\n\r\n    return this.state;\r\n  }\r\n\r\n  nextStep() {\r\n    if (++this.state.currentStep === this.state.steps - 1) {\r\n      this.state.complete = true;\r\n    }\r\n  }\r\n}\r\n","import Model from './model/Model';\r\nimport Lesson from './lesson/Lesson';\r\n\r\nconst initLesson = (model) => {\r\n  const sreenWidth = document.body.clientWidth;\r\n  const axisLength = sreenWidth > 900 ? 815 : (sreenWidth < 550 ? 300 : 480);\r\n\r\n  const lesson = new Lesson(model, axisLength);\r\n  \r\n  lesson.start();\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const model = new Model();\r\n  \r\n  initLesson(model);\r\n\r\n  window.addEventListener('resize', () => initLesson(model));\r\n});\r\n"],"sourceRoot":""}